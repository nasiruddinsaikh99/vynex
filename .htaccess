RewriteEngine On

# If the file or directory exists, serve it directly
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# Remove trailing slashes (except root)
RewriteCond %{REQUEST_URI} /(.+)/+$ [NC]
RewriteRule ^ %1 [R=301,L]

# Map clean URLs to .php files (e.g., /about → /about.php)
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^([^/]+)$ $1.php [L,QSA]

# Optionally, map URLs with subfolders (e.g., /docs/getting-started → /docs/getting-started.php)
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.+)/([^/]+)$ $1/$2.php [L,QSA]

# (Optional) Force www or HTTPS if needed (ask if you want this)
